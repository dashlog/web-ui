<div class="filter">
  <nav>
    <ul id="dropdown" class="dropdown">
      <li>
        <button id="filter" type="button" aria-expanded="false" aria-controls="id_about_menu">columns</button>
        <ul id="tags">
          <li><a class="tag selected" data-value="pkg-name">package name</a></li>
          <li><a class="tag selected" data-value="version">version</a></li>
          <li><a class="tag selected" data-value="public">public</a></li>
          <li><a class="tag selected" data-value="node">Node.js engine</a></li>
          <li><a class="tag selected" data-value="esm"><p>ESM</p></a><li>
          <li><a class="tag selected" data-value="license"><p>license</p></a></li>
          <li><a class="tag selected" data-value="fork"><p>fork</p></a></li>
          <li><a class="tag selected" data-value="fork-count"><p>fork count</p></a></li>
          <li><a class="tag selected" data-value="test"><p>test</p></a></li>
          <li><a class="tag selected" data-value="size"><p>size</p></a></li>
          <li><a class="tag selected" data-value="stars"><p>stars</p></a></li>
          <li><a class="tag selected" data-value="last-commit"><p>last commit date</p></a></li>
          <li><a class="tag selected" data-value="last-release"><p>last release date</p></a></li>
          <li><a class="tag selected" data-value="unreleased-commit"><p>unreleased commit count</p></a></li>
          <li><a class="tag selected" data-value="pr"><p>pr</p></a></li>
          <li><a class="tag selected" data-value="issues"><p>issues</p></a></li>
          <li><a class="tag selected" data-value="nyc"><p>nyc</p></a></li>
          <li><a class="tag selected" data-value="dep"><p>deps count</p></a></li>
          <li><a class="tag selected" data-value="devDep"><p>devDeps count</p></a></li>
          <li><a class="tag selected" data-value="branch"><p>branch</p></a></li>
        </ul>
      </li>
    </ul>
  </nav>
  <div class="search-bar">
    <input class="search" placeholder="Filter projects..." />
  </div>
</div>
<div class="table-container">
  <table>
    <thead>
      <tr>
        <th class="sort left" data-sort="name">name</th>
        <th class="sort left" data-sort="pkg-name">package name</th>
        <th class="sort min" data-sort="version">version</th>
        <th class="sort min" data-sort="public">public</th>
        <th class="sort min" data-sort="node">Node</th>
        <th class="sort min" data-sort="esm">ESM</th>
        <th class="sort" data-sort="license">license</th>
        <th class="sort min" data-sort="fork">fork</th>
        <th class="sort min" data-sort="fork-count">fork count</th>
        <th class="sort" data-sort="test">test</th>
        <th class="sort" data-sort="size">size</th>
        <th class="sort min" data-sort="stars">stars</th>
        <th class="sort" data-sort="last-commit" style="min-width: 200px;">last commit date</th>
        <th class="sort" data-sort="last-release" style="min-width: 200px;">last release date</th>
        <th class="sort" data-sort="unreleased-commit">unreleased commit</th>
        <th class="sort min" data-sort="pr">pr</th>
        <th class="sort min" data-sort="issues">issues</th>
        <th class="sort min" data-sort="nyc">cov lib</th>
        <th class="sort min" data-sort="dep">dep</th>
        <th class="sort min" data-sort="devDep">devDep</th>
        <th class="sort min" data-sort="branch">branch</th>
      </tr>
    </thead>
    <tbody class="list">
      <% for (const project of projects) { %>
      <tr>
        <td class="name left" style="min-width: 170px">
          <a href="<%= project.url %>" target="_blank">
            <%= project.name %>
          </a>
        </td>
        <td class="pkg-name left" style="min-width: 200px"><%= project.package_name %></td>
        <td class="version"><%= project.version %></td>
        <td class="public"><%= project.private ? "❌" : "✔️" %></td>
        <td class="node"><%= project.nodejs_version %></td>
        <td class="esm"><%= project.is_module ? "✔️" : "❌" %></td>
        <td class="license" style="min-width: 100px"><%= project.license %></td>
        <td class="fork"><%= project.fork ? "✔️" : "❌" %></td>
        <td class="fork-count"><%= project.fork_count %></td>
        <td class="test"><%= project.test_framework %></td>
        <% if (project.private) { %>
        <td class="size"></td>
        <% } else { %>
        <td class="size">
          <img src="https://img.shields.io/github/languages/code-size/<%= orgName %>/<%= project.name %>"></img>
        </td>
        <% } %>
        <td class="stars"><%= project.stars %></td>
        <td class="last-commit" data-timestamp="<%= new Date(project.last_commit.date).getTime() %>"><%= project.last_commit.date %></td>
        <td class="last-release" data-timestamp="<%= new Date(project.last_release).getTime() %>"><%= project.last_release %></td>
        <td class="unreleased-commit" ><%= project.unreleased_commit_count %></td>
        <td class="pr"><%= project.pull_request.length %></td>
        <td class="issues"><%= project.issues.length %></td>
        <td class="nyc"><%= project.coverage_lib %></td>
        <td class="dep"><%= project.dependencies_count %></td>
        <td class="devDep"><%= project.dev_dependencies_count %></td>
        <td class="branch"><%= project.default_branch %></td>
      </tr>
      <% } %>
    </tbody>
  </table>
</div>
